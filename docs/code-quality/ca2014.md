---
title: 'CA2014: No usar stackalloc en los bucles'
ms.date: 06/18/2020
ms.topic: reference
f1_keywords:
- DoNotUseStackallocInLoops
- CA2014
helpviewer_keywords:
- DoNotUseStackallocInLoops
- CA2014
author: stephentoub
ms.author: stoub
manager: jeffhand
ms.workload:
- multiple
ms.openlocfilehash: f61023e22d3aa069a2bdfcd9a801aac387e6831d
ms.sourcegitcommit: 5caad925ca0b5d136416144a279e984836d8f28c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/07/2020
ms.locfileid: "89508904"
---
# <a name="ca2014-do-not-use-stackalloc-in-loops"></a>CA2014: No usar stackalloc en los bucles

|Elemento|Value|
|-|-|
|Identificador de comprobación|CA2014|
|Category|Microsoft.Reliability|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

Usar la palabra clave stackalloc de C# dentro de un bucle.

## <a name="rule-description"></a>Descripción de la regla

La palabra clave stackalloc de C# asigna memoria del marco de pila actual y es posible que no se libere hasta que se devuelva la llamada al método actual.  Si se usa la palabra clave stackalloc en un bucle, puede provocar desbordamientos de la pila debido al agotamiento de la memoria de la pila.

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Mueva el stackalloc a fuera de todos los bucles del método.

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

Puede ser seguro suprimir la advertencia cuando el bucle o bucles contenedores se invocan solo un número finito de veces, de modo que la cantidad total de memoria asignada en todas las operaciones de stackalloc sea relativamente pequeña.

## <a name="see-also"></a>Vea también

- [Advertencias de confiabilidad](../code-quality/reliability-warnings.md)
