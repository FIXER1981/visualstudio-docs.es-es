---
title: C26130
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C26130
helpviewer_keywords:
- C26130
ms.assetid: 535e2356-bc84-4549-983d-7d29aee2249c
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: 9e565572a2af47bf98bac4657db9219aa8b06008
ms.sourcegitcommit: 535ef05b1e553f0fc66082cd2e0998817eb2a56a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/07/2019
ms.locfileid: "72011222"
---
# <a name="c26130"></a>C26130
C26130 de ADVERTENCIA: Falta la anotación \_Requires @ no__t-1lock @ no__t-2held @ no__t-3 (\<LOCK >) o \_No @ no__t-6competing @ no__t-7thread @ no__t-8 en la función \<func >. De lo contrario, podría ser una condición de carrera. La variable \<var > debe protegerse mediante Lock \<lock >.

 La advertencia C26130 se emite cuando el analizador detecta una posible condición de carrera, pero deduce que la función se puede ejecutar en un único modo de subproceso, por ejemplo, cuando la función está en la fase de inicialización basada en ciertas heurísticas.

## <a name="example"></a>Ejemplo
 En el ejemplo siguiente, se genera la advertencia C26130 porque se está modificando un miembro `_Guarded_by_` sin un bloqueo.

```

typedef struct _DATA
{
    CRITICAL_SECTION cs;
    _Guarded_by_(cs) int data;
} DATA;

void Init(DATA* p)
{
    p->data = 0; // Warning C26130
}
```

## <a name="example"></a>Ejemplo
 Si se garantiza que el código anterior funciona en un único modo de subproceso, anote la función mediante `_No_competing_thread_`, como se muestra en el ejemplo siguiente.

```

typedef struct _DATA
{
    CRITICAL_SECTION cs;
    _Guarded_by_(cs) int data;
} DATA;

_No_competing_thread_ void Init(DATA* p)
{
    p->data = 0; // Warning C26130 will be resolved
}
```

## <a name="example"></a>Ejemplo
 Como alternativa, puede anotar un fragmento de código mediante `_No_competing_thread_begin_` y `_No_competing_thread_end_`, como se indica a continuación.

```

typedef struct _DATA
{
    CRITICAL_SECTION cs;
    _Guarded_by_(cs) int data;
} DATA;

void Init(DATA* p)
{
    _No_competing_thread_begin_
    p->data = 0; // Warning C26130 will be resolved
    _No_competing_thread_end_
}
```