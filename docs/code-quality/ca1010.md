---
title: 'CA1010: Las colecciones deben implementar la interfaz genérica'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a5aec731f453ae7e29f74d6c0198cf16d1ca1f77
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/21/2020
ms.locfileid: "81648485"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010: Las colecciones deben implementar la interfaz genérica

|||
|-|-|
|TypeName|CollectionsShouldImplementGenericInterface|
|Identificador de comprobación|CA1010|
|Categoría|Microsoft.Design|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

Un tipo implementa <xref:System.Collections.IEnumerable?displayProperty=fullName> la interfaz, <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> pero no implementa la interfaz y el ensamblado contenedor tiene como destino .NET. Esta regla omite los <xref:System.Collections.IDictionary?displayProperty=fullName>tipos que implementan .

De forma predeterminada, esta regla solo examina los tipos visibles externamente, pero esto es [configurable.](#configurability) También puede configurar interfaces adicionales para requerir que se implemente una interfaz genérica.

## <a name="rule-description"></a>Descripción de la regla

Para ampliar la utilidad de una colección, implemente una de las interfaces de colección genéricas. A continuación, la colección se puede utilizar para rellenar tipos de colección genéricos como los siguientes:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Para corregir una infracción de esta regla, implemente una de las siguientes interfaces de colección genéricas:

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir las advertencias

Es seguro suprimir una advertencia de esta regla; sin embargo, el uso de la colección será más limitado.

## <a name="configurability"></a>Configuración

Si está ejecutando esta regla desde [analizadores FxCop](install-fxcop-analyzers.md) (y no con análisis heredados), puede configurar en qué partes del código base ejecutar esta regla, en función de su accesibilidad. Por ejemplo, para especificar que la regla se ejecute solo en la superficie de API no pública, agregue el siguiente par clave-valor a un archivo .editorconfig del proyecto:

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

Puede configurar esta opción solo para esta regla, para todas las reglas o para todas las reglas de esta categoría (Diseño). Para obtener más información, consulte [Configurar analizadores FxCop](configure-fxcop-analyzers.md).

### <a name="additional-required-generic-interfaces"></a>Interfaces genéricas adicionales requeridas

Puede configurar la lista de nombres de interfaz (separados por '') con su interfaz completa genérica necesaria (separada por '->').

Formatos de interfaz permitidos:

- Solo el nombre de la interfaz (incluye todas las interfaces con el nombre, independientemente del tipo o espacio de nombres que lo contiene).
- Nombres completos en el formato de https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format ID de documentación del símbolo: con un prefijo "T:" opcional.

Ejemplos:

| Valor de la opción | Resumen |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Se espera que todos los tipos que implementan 'ISomething', independientemente de su espacio de nombres, también implementen 'System.Collections.Generic.IEnumerable'1'. |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Se espera que todos los tipos que implementan 'System.Collections.Generic.IDictionary' también implementen 'System.Collections.Generic.IDictionary'2'. |

## <a name="example-violation"></a>Ejemplo de violación

En el ejemplo siguiente se muestra una clase (tipo `CollectionBase` de referencia) que deriva de la clase no genérica, que infringe esta regla.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Para corregir una infracción de esta regla, realice una de las siguientes acciones:

- Implemente las interfaces genéricas.
- Cambie la clase base a un tipo que ya implemente las interfaces genéricas y no genéricas, como la `Collection<T>` clase.

## <a name="fix-by-base-class-change"></a>Corrección por cambio de clase base

En el ejemplo siguiente se corrige la infracción cambiando `CollectionBase` la clase `Collection<T>` `Collection(Of T)` base de la colección de la clase no genérica a la clase genérica (en Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

Cambiar la clase base de una clase ya publicada se considera un cambio importante para los consumidores existentes.

## <a name="fix-by-interface-implementation"></a>Corrección por implementación de la interfaz

En el ejemplo siguiente se corrige la `IEnumerable<T>` `ICollection<T>`infracción `IList<T>` `IEnumerable(Of T)`implementando estas interfaces genéricas: , , y ( , `ICollection(Of T)`, y `IList(Of T)` en Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Reglas relacionadas

- [CA1005: Evite parámetros excesivos en tipos genéricos](../code-quality/ca1005.md)
- [CA1000: No declarar miembros estáticos en tipos genéricos](../code-quality/ca1000.md)
- [CA1002: No exponer listas genéricas](../code-quality/ca1002.md)
- [CA1006: No anidar tipos genéricos en firmas de miembro](../code-quality/ca1006.md)
- [CA1004: Los métodos genéricos deben proporcionar un parámetro de tipo](../code-quality/ca1004.md)
- [CA1003: Utilizar instancias genéricas de controlador de eventos](../code-quality/ca1003.md)
- [CA1007: Utilizar valores genéricos cuando sea posible](../code-quality/ca1007.md)

## <a name="see-also"></a>Consulte también

- [Genéricos](/dotnet/csharp/programming-guide/generics/index)
