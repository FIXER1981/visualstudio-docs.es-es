---
title: 'CA2244: No duplicar inicializaciones de elementos indexados'
ms.date: 04/30/2020
ms.topic: reference
f1_keywords:
- CA2244
helpviewer_keywords:
- CA2244
author: mavasani
ms.author: mavasani
manager: jillfra
ms.openlocfilehash: 042bd0cde0f638d0b4a0306bb1cce121030be67a
ms.sourcegitcommit: 577c905de52057a741e68c2ed168ea527813fda5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/15/2020
ms.locfileid: "88250206"
---
# <a name="ca2244-do-not-duplicate-indexed-element-initializations"></a>CA2244: No duplicar inicializaciones de elementos indexados

|Elemento|Valor|
|-|-|
|Identificador de comprobación|CA2244|
|Categoría|Microsoft. Usage|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

Un inicializador de objeto tiene más de un inicializador de elemento indizado con el mismo índice de constante. Todo menos el último inicializador son redundantes.

## <a name="rule-description"></a>Descripción de la regla

Los [inicializadores de objeto](/dotnet/csharp/programming-guide/classes-and-structs/object-and-collection-initializers#object-initializers) permiten asignar valores a cualquier campo o propiedad accesible de un objeto en el momento de su creación sin tener que invocar un constructor seguido de líneas de instrucciones de asignación.

Los inicializadores de elementos indizados en los inicializadores de objetos deben inicializar elementos únicos. Un índice duplicado sobrescribirá una inicialización de elemento anterior.

> [!NOTE]
> La regla CA2244 no está disponible en el análisis heredado. Se incluyó por primera vez en la versión 2.9.8 de los [analizadores de FxCop](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) .

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Para corregir las infracciones, quite todos los inicializadores de elementos indizados redundantes que se sobrescriben con cualquiera de los inicializadores de elemento subsiguientes. Por ejemplo, el siguiente fragmento de código muestra una infracción de la regla y un par de posibles correcciones:

```csharp
using System.Collections.Generic;

class C
{
    public void M()
    {
        var dictionary = new Dictionary<int, int>
        {
            [1] = 1, // CA2244
            [2] = 2,
            [1] = 3
        };
    }
}
```

```csharp
using System.Collections.Generic;

class C
{
    public void M()
    {
        var dictionary = new Dictionary<int, int>
        {
            [2] = 2,
            [1] = 3
        };
    }
}
```

```csharp
using System.Collections.Generic;

class C
{
    public void M()
    {
        var dictionary = new Dictionary<int, int>
        {
            [1] = 1,
            [2] = 2
        };
    }
}
```

> [!TIP]
> Hay disponible una corrección de código para esta regla en Visual Studio. Para usarlo, coloque el cursor sobre la infracción y presione **Ctrl** + **.** (punto). Elija **quitar inicializador de elemento redundante** en la lista de opciones que se muestra.
>
> ![Corrección de código para CA2244: quitar inicializador de elemento redundante](media/ca2244-codefix.png)

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

No suprima las infracciones de esta regla.

## <a name="see-also"></a>Vea también

- [Advertencias de uso](usage-warnings.md)
