---
title: 'CA5378: No deshabilitar ServicePointManagerSecurityProtocols'
description: Proporciona información sobre la regla de análisis de código CA5378, incluidas las causas, cómo corregir las infracciones y cuándo suprimirlas.
ms.date: 07/12/2019
ms.topic: reference
author: dotpaul
ms.author: paulming
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
f1_keywords:
- CA5378
- DoNotSetSwitch
ms.openlocfilehash: a8ed1381d2a1239f7446c34d9a008969d80d8f80
ms.sourcegitcommit: 0c2523d975d48926dd2b35bcd2d32a8ae14c06d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2019
ms.locfileid: "71238026"
---
# <a name="ca5378-do-not-disable-servicepointmanagersecurityprotocols"></a>CA5378: No deshabilitar ServicePointManagerSecurityProtocols

|||
|-|-|
|TypeName|DoNotSetSwitch|
|Identificador de comprobación|CA5378|
|Categoría|Microsoft.Security|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Motivo

Una <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> llamada al método `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` establece `true`en.

## <a name="rule-description"></a>Descripción de la regla

Establecer `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` en`true` limita las conexiones de seguridad de la capa de transporte (TLS) de Windows Communication Framework (WCF) al uso de TLS 1,0. Esa versión de TLS quedará en desuso. Para obtener más información, vea [prácticas recomendadas de seguridad de la capa de transporte (TLS) con el .NET Framework](/dotnet/framework/network-programming/tls#switchsystemservicemodeldisableusingservicepointmanagersecurityprotocols).

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

- Si su aplicación tiene como destino .NET Framework v 4.7 o una versión posterior, puede <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> quitar la llamada al método o establecer el valor del `false`modificador en.
- Si su aplicación tiene como destino .NET Framework v 4.6.2 o anterior y se ejecuta en .NET Framework v 4.7 o versiones posteriores, establezca el `false`valor del modificador en.
- En caso contrario, consulte [los procedimientos recomendados de seguridad de la capa de transporte (TLS) con el .NET Framework](/dotnet/framework/network-programming/tls) para mitigaciones.

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

Puede suprimir esta advertencia si necesita conectarse a un servicio heredado que no se puede actualizar para usar configuraciones TLS seguras.

## <a name="pseudo-code-examples"></a>Ejemplos de pseudocódigo

### <a name="violation"></a>Infracción

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        // CA5378 violation
        AppContext.SetSwitch("Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols", true);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        ' CA5378 violation
        AppContext.SetSwitch("Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols", true)
    End Sub
End Class
```

### <a name="solution"></a>Soluciones

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        AppContext.SetSwitch("Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols", false);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        AppContext.SetSwitch("Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols", false)
    End Sub
End Class
```