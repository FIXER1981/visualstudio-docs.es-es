---
title: 'ca2014: no usar stackalloc en bucles'
ms.date: 06/18/2020
ms.topic: reference
f1_keywords:
- DoNotUseStackallocInLoops
- CA2014
helpviewer_keywords:
- DoNotUseStackallocInLoops
- CA2014
author: stephentoub
ms.author: stoub
manager: jeffhand
ms.workload:
- multiple
ms.openlocfilehash: 8fc3f5261cde37d9d099f39c646d60f9cb9b712a
ms.sourcegitcommit: 1d4f6cc80ea343a667d16beec03220cfe1f43b8e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/23/2020
ms.locfileid: "85289883"
---
# <a name="ca2014-do-not-use-stackalloc-in-loops"></a>CA2014: no usar stackalloc en bucles

|||
|-|-|
|Identificador de comprobación|CA2014|
|Categoría|Microsoft.Reliability|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

Usar la palabra clave stackalloc de C# dentro de un bucle.

## <a name="rule-description"></a>Descripción de la regla

La palabra clave stackalloc de C# asigna memoria del marco de pila actual y es posible que no se libere hasta que se devuelva la llamada al método actual.  Si se usa la palabra clave stackalloc en un bucle, puede provocar desbordamientos de la pila debido al agotamiento de la memoria de la pila.

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Mueva el stackalloc a fuera de todos los bucles del método.

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

Puede ser seguro suprimir la advertencia cuando el bucle o bucles contenedores se invocan solo un número finito de veces, de modo que la cantidad total de memoria asignada en todas las operaciones de stackalloc sea relativamente pequeña.

## <a name="see-also"></a>Vea también

- [Advertencias de confiabilidad](../code-quality/reliability-warnings.md)
