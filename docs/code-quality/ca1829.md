---
title: 'CA1829: Use la propiedad Length/Count en lugar del método Enumerable. Count'
ms.date: 04/24/2020
ms.topic: reference
f1_keywords:
- UsePropertyInsteadOfCountMethodWhenAvailableAnalyzer
- CA1829
helpviewer_keywords:
- UsePropertyInsteadOfCountMethodWhenAvailableAnalyzer
- CA1829
author: mavasani
ms.author: mavasani
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: da06a563084dc55203dd27031ec38703d65c2216
ms.sourcegitcommit: 93859158465eab3423a0c0435f06490f0a456a57
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/27/2020
ms.locfileid: "82172421"
---
# <a name="ca1829-use-lengthcount-property-instead-of-enumerablecount-method"></a>CA1829: Use la propiedad Length/Count en lugar del método Enumerable. Count

|||
|-|-|
|TypeName|UsePropertyInsteadOfCountMethodWhenAvailableAnalyzer|
|Identificador de comprobación|CA1829|
|Categoría|Microsoft. performance|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

El <xref:System.Linq.Enumerable.Count%2A> método LINQ se usó en un tipo que admite una propiedad equivalente, más `Length` eficaz `Count` o.

## <a name="rule-description"></a>Descripción de la regla

Esta regla marca las <xref:System.Linq.Enumerable.Count%2A> llamadas de método LINQ en colecciones de tipos que tienen equivalente, pero más `Length` eficientes `Count` o una propiedad para capturar los mismos datos. `Length`o `Count` la propiedad no enumera la colección, por lo que es más eficaz.

Esta regla marca <xref:System.Linq.Enumerable.Count%2A> las llamadas en los siguientes tipos de `Length` colección con la propiedad:

- <xref:System.Array?displayProperty=fullName>
- <xref:System.Collections.Immutable.ImmutableArray%601?displayProperty=fullName>

Esta regla marca <xref:System.Linq.Enumerable.Count%2A> las llamadas en los siguientes tipos de colección `Count` con la propiedad:

- <xref:System.Collections.ICollection?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IReadOnlyCollection%601?displayProperty=fullName>

Los tipos de colección analizados pueden ampliarse en el futuro para cubrir más casos.

> [!NOTE]
> La regla CA1829 no está disponible en el análisis heredado. Se incluyó por primera vez en la versión 2.9.6 de los [analizadores de FxCop](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) .

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Para corregir una infracción, reemplace <xref:System.Linq.Enumerable.Count%2A> la llamada al método por el `Length` uso `Count` del acceso de la propiedad o. Por ejemplo, los dos fragmentos de código siguientes muestran una infracción de la regla y cómo corregirla:

```csharp
using System.Collections.Generic;
using System.Linq;

class C
{
    public int GetCount(int[] array)
        => array.Count();

    public int GetCount(ICollection<int> collection)
        => collection.Count();
}
```


```csharp
using System.Collections.Generic;

class C
{
    public int GetCount(int[] array)
        => array.Length;

    public int GetCount(ICollection<int> collection)
        => collection.Count;
}
```

> [!TIP]
> Hay disponible una corrección de código para esta regla en Visual Studio. Para usarlo, coloque el cursor sobre la infracción y presione **Ctrl**+**.** (punto). Elija **usar la propiedad Length/Count en lugar de Count () cuando esté disponible** en la lista de opciones que se presenta.
>
> ![Corrección de código para CA1829: Use la propiedad Length/Count en lugar de Count () cuando esté disponible](media/ca1829-codefix.png)

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

Es seguro suprimir una infracción de esta regla si no le preocupa el impacto en el rendimiento de la enumeración de recopilación innecesaria para calcular el recuento.

## <a name="related-rules"></a>Reglas relacionadas

- [CA1826: Use la propiedad en lugar del método Enumerable Linq](ca1826.md)
- [CA1827: no usar Count/LongCount cuando se puede usar any](ca1827.md)
- [CA1828: no use CountAsync/LongCountAsync cuando se pueda usar AnyAsync](ca1828.md)

## <a name="see-also"></a>Consulte también

- [Advertencias de rendimiento](../code-quality/performance-warnings.md)
