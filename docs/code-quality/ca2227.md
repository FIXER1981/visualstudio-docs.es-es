---
title: 'CA2227: Las propiedades de la colección deben ser de solo lectura'
ms.date: 09/28/2018
ms.topic: reference
f1_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
helpviewer_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
ms.assetid: 26967aaf-6fbe-438a-b4d3-ac579b5dc0f9
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
- CPP
ms.workload:
- multiple
ms.openlocfilehash: b3884a817610aa2c67c9e00d6251f4dbc63662e9
ms.sourcegitcommit: 4bcd6abb89feff1cf8251e3ded73fdc30b67e347
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2020
ms.locfileid: "81615605"
---
# <a name="ca2227-collection-properties-should-be-read-only"></a>CA2227: Las propiedades de la colección deben ser de solo lectura

|||
|-|-|
|TypeName|CollectionPropertiesShouldBeReadOnly|
|Identificador de comprobación|CA2227|
|Categoría|Microsoft.Usage|
|Cambio importante|Problemático|

## <a name="cause"></a>Causa

Una propiedad visible externamente, grabable es de <xref:System.Collections.ICollection?displayProperty=fullName>un tipo que implementa . Esta regla omite matrices, indizadores (propiedades con el nombre 'Item'), colecciones inmutables, colecciones readonly y conjuntos de permisos.

## <a name="rule-description"></a>Descripción de la regla

Una propiedad de colección grabable permite a un usuario reemplazar la colección con una colección completamente diferente. Una propiedad de solo lectura impide que se reemplace la colección, pero todavía permite establecer los miembros individuales. Si reemplazar la colección es un objetivo, el patrón de diseño preferido es incluir un método para quitar todos los elementos de la colección y un método para volver a rellenar la colección. Vea <xref:System.Collections.ArrayList.Clear%2A> los <xref:System.Collections.ArrayList.AddRange%2A> métodos <xref:System.Collections.ArrayList?displayProperty=fullName> y de la clase para obtener un ejemplo de este patrón.

La serialización binaria y XML admite propiedades de solo lectura que son colecciones. La <xref:System.Xml.Serialization.XmlSerializer?displayProperty=fullName> clase tiene requisitos <xref:System.Collections.ICollection> específicos para los tipos que implementan y <xref:System.Collections.IEnumerable?displayProperty=fullName> para ser serializable.

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Para corregir una infracción de esta regla, haga que la propiedad sea de solo lectura. Si el diseño lo requiere, agregue métodos para borrar y volver a rellenar la colección.

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir las advertencias

Puede suprimir la advertencia si la propiedad forma parte de una clase de objeto de transferencia de [datos (DTO).](/previous-versions/msp-n-p/ff649585(v=pandp.10))

De lo contrario, no suprima las advertencias de esta regla.

## <a name="example"></a>Ejemplo

En el ejemplo siguiente se muestra un tipo con una propiedad de colección grabable y se muestra cómo se puede reemplazar la colección directamente. Además, muestra la forma preferida de reemplazar una `Clear` `AddRange` propiedad de colección de solo lectura mediante métodos y.

[!code-csharp[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/CSharp/ca2227-collection-properties-should-be-read-only_1.cs)]
[!code-vb[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/VisualBasic/ca2227-collection-properties-should-be-read-only_1.vb)]
[!code-cpp[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/CPP/ca2227-collection-properties-should-be-read-only_1.cpp)]

## <a name="related-rules"></a>Reglas relacionadas

- [CA1819: Las propiedades no deberían devolver matrices](../code-quality/ca1819.md)
