---
title: 'CA2208: Crear instancias de las excepciones del argumento correctamente'
ms.date: 05/18/2020
ms.topic: reference
f1_keywords:
- CA2208
- InstantiateArgumentExceptionsCorrectly
helpviewer_keywords:
- InstantiateArgumentExceptionsCorrectly
- CA2208
ms.assetid: e2a48939-d9fa-478c-b2f9-3bdbce07dff7
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CPP
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 5b065ec4e672590a38b5c3269dde7c8abc454691
ms.sourcegitcommit: b885f26e015d03eafe7c885040644a52bb071fae
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/30/2020
ms.locfileid: "85524818"
---
# <a name="ca2208-instantiate-argument-exceptions-correctly"></a>CA2208: Crear instancias de las excepciones del argumento correctamente

|Elemento|Valor|
|-|-|
|Identificador de comprobación|CA2208|
|Categoría|Microsoft. Usage|
|Cambio importante|Poco problemático|

## <a name="cause"></a>Causa

Cuando un método tiene un parámetro y produce un tipo de excepción que es o deriva de, se <xref:System.ArgumentException> espera que llame a un constructor que acepte un `paramName` parámetro correctamente. Las posibles causas son las siguientes:

- Se realiza una llamada al constructor predeterminado (sin parámetros) de un tipo de excepción que es o deriva de, <xref:System.ArgumentException> que tiene un constructor que acepta un `paramName` parámetro.

- Un argumento de cadena incorrecto se pasa a un constructor con parámetros de un tipo de excepción que es o deriva de, <xref:System.ArgumentException> .

- Uno de los nombres de los parámetros se pasa para el `message` argumento del constructor de tipo de excepción que es o deriva de, <xref:System.ArgumentException> .

## <a name="rule-description"></a>Descripción de la regla

En lugar de llamar al constructor predeterminado, llame a una de las sobrecargas del constructor que permite proporcionar un mensaje de excepción más significativo. El mensaje de excepción debe dirigirse al desarrollador y explicar claramente la condición de error y cómo corregir o evitar la excepción.

Las firmas de los constructores de cadena uno y dos de <xref:System.ArgumentException> y sus tipos derivados no son coherentes con respecto a la posición `message` y `paramName` los parámetros. Asegúrese de que se llama a estos constructores con los argumentos de cadena correctos. Las firmas son las siguientes:

- <xref:System.ArgumentException>(cadena `message` )
- <xref:System.ArgumentException>(cadena `message` , cadena `paramName` )
- <xref:System.ArgumentNullException>(cadena `paramName` )
- <xref:System.ArgumentNullException>(cadena `paramName` , cadena `message` )
- <xref:System.ArgumentOutOfRangeException>(cadena `paramName` )
- <xref:System.ArgumentOutOfRangeException>(cadena `paramName` , cadena `message` )
- <xref:System.DuplicateWaitObjectException>(cadena `parameterName` )
- <xref:System.DuplicateWaitObjectException>(cadena `parameterName` , cadena `message` )

## <a name="how-to-fix-violations"></a>Cómo corregir infracciones

Para corregir una infracción de esta regla, llame a un constructor que tome un mensaje, un nombre de parámetro o ambos, y asegúrese de que los argumentos sean correctos para el tipo de <xref:System.ArgumentException> al que se está llamando.

> [!TIP]
> Hay disponible una corrección de código para el nombre de parámetro de posición incorrecta en Visual Studio. Para usarlo, coloque el cursor en la fila de advertencia y presione **Ctrl** + **.** (punto). Elija **intercambiar el orden de los argumentos** en la lista de opciones que se presentan.
>
> ![Corrección de código para CA2208: argumentos swap](media/ca2208-codefix_swap.png)
>
> En caso de que <xref:System.ArgumentException> `message` se use erróneamente la sobrecarga (String) con un nombre de parámetro, el corrección proporcionaría la opción de usar un constructor de dos argumentos con el `null` mensaje.
> 
> ![Corrección de código para CA2208: argumentos swap](media/ca2208-codefix_null_msg.png)

## <a name="when-to-suppress-warnings"></a>Cuándo suprimir advertencias

Es seguro suprimir una advertencia de esta regla solo si se llama a un constructor con parámetros con los argumentos de cadena correctos.

## <a name="configurability"></a>Configurabilidad

Si está ejecutando esta regla desde los [analizadores de FxCop](install-fxcop-analyzers.md) (y no con el análisis heredado), puede configurar en qué partes del código base ejecutar esta regla, según su accesibilidad. Por ejemplo, para especificar que la regla se debe ejecutar solo en la superficie de la API pública, agregue el siguiente par clave-valor a un archivo. editorconfig en el proyecto:

```ini
dotnet_code_quality.ca2208.api_surface = public
```
De forma predeterminada, las reglas de CA2208 se aplican a todas las superficies de API (públicas, internas y privadas). Puede configurar esta opción solo para esta regla, para todas las reglas o para todas las reglas de esta categoría (diseño). Para obtener más información, vea [configurar analizadores de FxCop](configure-fxcop-analyzers.md).

## <a name="example"></a>Ejemplo

En el código siguiente se muestra un constructor que crea incorrectamente una instancia de <xref:System.ArgumentNullException> .

[!code-cpp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/CPP/ca2208-instantiate-argument-exceptions-correctly_1.cpp)]
[!code-csharp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/CSharp/ca2208-instantiate-argument-exceptions-correctly_1.cs?range=3-6)]
[!code-vb[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/VisualBasic/ca2208-instantiate-argument-exceptions-correctly_1.vb)]

En el código siguiente se corrige la infracción anterior mediante el cambio de los argumentos del constructor.

[!code-cpp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/CPP/ca2208-instantiate-argument-exceptions-correctly_2.cpp)]
[!code-csharp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/CSharp/ca2208-instantiate-argument-exceptions-correctly_2.cs?range=3-6)]
[!code-vb[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/VisualBasic/ca2208-instantiate-argument-exceptions-correctly_2.vb)]

## <a name="related-rules"></a>Reglas relacionadas

- [CA1507: Usar nameof en lugar de la cadena](ca1507.md)
